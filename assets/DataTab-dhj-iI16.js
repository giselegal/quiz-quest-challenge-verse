import{j as s}from"./vendor-ui-osK9DzZo.js";import{C as e,b as a,c as r,d as i,a as n,e as t}from"./card-BvxQYS25.js";import{B as l}from"./quiz-intro-BplHFC3N.js";import{T as d,a as o,b as c,c as m,d as x,e as j}from"./table-BWDfpsjA.js";import{F as h}from"./file-text-43e_e70z.js";import"./vendor-react-BFBzZzDX.js";import"./ui-components-DOTaqTTj.js";import"./index-CJWu_7KR.js";import"./analytics-nnBgKcWZ.js";const p=({analyticsData:p,loading:u})=>{var v,N;const f=(null==(v=null==p?void 0:p.events)?void 0:v.slice(0,50))||[];return s.jsx("div",{className:"space-y-6",children:s.jsxs(e,{children:[s.jsxs(a,{children:[s.jsx(r,{children:"Dados Brutos de Analytics"}),s.jsx(i,{children:"Explore todos os eventos rastreados"})]}),s.jsxs(n,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(d,{children:[s.jsx(o,{children:s.jsxs(c,{children:[s.jsx(m,{children:"Tipo de Evento"}),s.jsx(m,{children:"Data e Hora"}),s.jsx(m,{children:"UsuÃ¡rio"}),s.jsx(m,{children:"Email"}),s.jsx(m,{children:"Detalhes"})]})}),s.jsxs(x,{children:[f.map(((e,a)=>s.jsxs(c,{children:[s.jsx(j,{className:"font-medium",children:e.type}),s.jsx(j,{children:new Date(e.timestamp).toLocaleString("pt-BR")}),s.jsx(j,{children:e.userName||"N/A"}),s.jsx(j,{children:e.userEmail||e.email||"N/A"}),s.jsx(j,{className:"max-w-[12rem] truncate",children:Object.entries(e).filter((([s])=>!["type","timestamp","userName","userEmail","email","sessionId"].includes(s))).map((([e,a])=>s.jsxs("div",{className:"text-xs",children:[s.jsxs("span",{className:"font-medium",children:[e,":"]})," ",JSON.stringify(a)]},e)))})]},a))),0===f.length&&s.jsx(c,{children:s.jsx(j,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:u?"Carregando dados...":"Nenhum dado de analytics encontrado"})})]})]})}),(null==(N=null==p?void 0:p.events)?void 0:N.length)>50&&s.jsx("div",{className:"text-center mt-4 text-sm text-gray-500",children:"Mostrando os 50 eventos mais recentes. Exporte o CSV para visualizar todos os dados."})]}),s.jsx(t,{className:"flex justify-end",children:s.jsxs(l,{variant:"outline",size:"sm",onClick:()=>{var s;return null==(s=null==p?void 0:p.onExportData)?void 0:s.call(p)},children:[s.jsx(h,{className:"h-4 w-4 mr-2"}),"Exportar todos os dados"]})})]})})};export{p as DataTab};
