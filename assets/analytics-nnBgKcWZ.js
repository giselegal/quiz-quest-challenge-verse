const e={},t=function(t,n,o){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));a=Promise.allSettled(n.map((t=>{if((t=function(e){return"/"+e}(t))in e)return;e[t]=!0;const n=t.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${a}`))return;const i=document.createElement("link");return i.rel=n?"stylesheet":"modulepreload",n||(i.as="script"),i.crossOrigin="",i.href=t,o&&i.setAttribute("nonce",o),document.head.appendChild(i),n?new Promise(((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then((e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return t().catch(i)}))},n=()=>{const e=new URLSearchParams(window.location.search),t={source:e.get("utm_source")||void 0,medium:e.get("utm_medium")||void 0,campaign:e.get("utm_campaign")||void 0,term:e.get("utm_term")||void 0,content:e.get("utm_content")||void 0,fbclid:e.get("fbclid")||void 0,gclid:e.get("gclid")||void 0};return Object.values(t).some((e=>void 0!==e))&&localStorage.setItem("utm_params",JSON.stringify(t)),t},o=()=>{"undefined"!=typeof window&&t((()=>Promise.resolve().then((()=>v))),void 0).then((e=>{}))},a=(e,t)=>{"undefined"!=typeof window&&window.fbq&&window.fbq("trackCustom","QuizStart",{name:e,email:t})},i=e=>{"undefined"!=typeof window&&window.fbq&&window.fbq("track","Lead",{email:e})},r=(e,t,n,o)=>{if(window.fbq){const a={question_id:e,selected_options:t.join(", "),current_question_index:n,total_questions:o};window.fbq("trackCustom","QuizAnswer",a)}window.gtag&&window.gtag("event","quiz_answer",{event_category:"quiz",question_id:e,selected_options:t.join(", "),current_question_index:n,total_questions:o})},c=()=>{const e=localStorage.getItem("quiz_start_time"),t=Date.now(),n=e?(t-parseInt(e,10))/1e3:0;if(window.fbq){const e={quiz_duration:n};window.fbq("trackCustom","QuizComplete",e)}window.gtag&&window.gtag("event","quiz_complete",{event_category:"quiz",quiz_duration:n})},s=e=>{if(window.fbq){const t={style_category:e};window.fbq("trackCustom","ResultView",t)}window.gtag&&window.gtag("event","result_view",{event_category:"quiz",event_label:e})},d=(e,t,n,o)=>{if(window.fbq){const a={button_id:e||"unknown",button_text:t||"unknown",button_location:n||"unknown",action_type:o||"click"};window.fbq("trackCustom","ButtonClick",a)}window.gtag&&window.gtag("event","button_click",{event_category:"interaction",event_label:t||e,button_location:n})},u=(e,t)=>{if(window.fbq){const n={value:e,currency:"BRL",content_name:t||"Guia de Estilo",content_type:"product"};window.fbq("track","Purchase",n)}window.gtag&&window.gtag("event","purchase",{transaction_id:"T_"+Date.now(),value:e,currency:"BRL",items:[{name:t||"Guia de Estilo",price:e}]})},l=()=>{try{const e=localStorage.getItem("analytics_events");return e?JSON.parse(e):[]}catch(e){return[]}},w=()=>{try{return localStorage.removeItem("analytics_events"),localStorage.removeItem("fb_pixel_event_log"),localStorage.removeItem("analytics_metrics_cache"),!0}catch(e){return!1}},m=()=>!!window.fbq&&(window.fbq("trackCustom","TestEvent",{test_value:"test"}),!0),f=Object.freeze(Object.defineProperty({__proto__:null,captureUTMParameters:n,clearAnalyticsData:w,getAnalyticsEvents:l,initFacebookPixel:o,testFacebookPixel:m,trackButtonClick:d,trackLeadGeneration:i,trackQuizAnswer:r,trackQuizComplete:c,trackQuizStart:a,trackResultView:s,trackSaleConversion:u},Symbol.toStringTag,{value:"Module"})),_=e=>{var t,n,o,a,i,r;"undefined"!=typeof window&&(t=window,n=document,o="script",t.fbq||(a=t.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(i=n.createElement(o)).async=!0,i.src="https://connect.facebook.net/en_US/fbevents.js",(r=n.getElementsByTagName(o)[0]).parentNode.insertBefore(i,r)),window.fbq("init",e),window.fbq("track","PageView"))},g=()=>{try{_("1234567890123456")}catch(e){}},b=(e,t)=>{"undefined"!=typeof window&&window.fbq&&window.fbq("track",e,t)},v=Object.freeze(Object.defineProperty({__proto__:null,initFacebookPixel:_,loadFacebookPixel:g,trackLead:(e,t)=>{b("Lead",{value:e,currency:t})},trackPixelEvent:b,trackPurchase:(e,t)=>{b("Purchase",{value:e,currency:t})}},Symbol.toStringTag,{value:"Module"}));export{t as _,i as a,d as b,n as c,u as d,r as e,c as f,s as g,l as h,o as i,m as j,w as k,g as l,b as m,f as n,a as t};
